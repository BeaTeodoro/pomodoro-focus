@use 'variables' as v;

.footer {
  background-color: var(--bg-card);
  border-top: 1px solid var(--accent-soft);
  color: var(--text);
  padding: .6rem 1rem;
  font-size: .85rem;
  transition: background v.$transition, color v.$transition;

  .footer-content {
    display: grid;
    grid-template-columns: auto 1fr auto; // ← centro garante centralização real
    align-items: center;
    max-width: v.$max-width;
    margin: 0 auto;
    width: 100%;
    gap: 1.2rem;
  }
  
  /* ================= MINI PLAYER ================= */
.mini-player-footer {
  display:flex;
  align-items:center;
  gap:.65rem;
  transform: scale(.92);
  opacity:.92;
  transition:.25s;
  &:hover { transform: scale(.96); opacity:1; }

  .spotify-icon { font-size:1.25rem; color: var(--primary); }

  /* Botões */
  .player-buttons {
    display:flex; align-items:center; gap:.3rem;

    button {
      background:none; border:none; cursor:pointer;
      color:var(--text2); font-size:1rem; padding:.25rem;
      transition:.25s;
      &:hover { color: var(--primary); transform: scale(1.1); }
    }

    /* Controle de volume */
    .mini-volume { position:relative; }

    .mini-volume-pop {
      position:absolute;
      bottom:120%; left:50%; transform: translateX(-50%);
      display:none;
      padding:.3rem .45rem;
      background:var(--primary-rgb);
      border:1px solid var(--accent-soft);
      border-radius:.45rem;
      box-shadow:0 3px 10px rgba(0, 0, 0, 0.1);
      z-index:20;
    }
    .mini-volume-pop.show { display:flex; }

    #mini-volume-range {
      writing-mode: vertical-lr;
      direction: rtl;
      width: 2px; height: 75px;
      appearance:none; background: transparent;
    }
    #mini-volume-range::-webkit-slider-runnable-track {
      background: rgba(var(--primary-rgb), .35);
      border-radius:2px;
    }
    #mini-volume-range::-webkit-slider-thumb {
      width:5px; height:10px; border-radius:50%;
      background: var(--primary);
      box-shadow:0 0 4px rgba(var(--primary), .6);
      cursor:pointer; transition:.25s; margin-top:-4px;
    }
  }

  /* === AGORA: mini-track-info SEPARADO (correto) === */
  .mini-track-info {
    display:flex; flex-direction:column;
    max-width:180px; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;

    .track-title { font-weight:600; font-size:.85rem; }
    .track-artist { font-size:.72rem; color:var(--text2); }

    .mini-progress-bar {
      margin-top:.25rem; height:3px; width:100%;
      background: rgba(var(--primary-rgb), .28);
      border-radius:2px; overflow:hidden;

      .progress-fill {
        height:100%; width:0%;
        background: var(--primary-dark);
        transition: width .35s linear;
      }
    }
  }
}


  /* CENTRO - SEMPRE NO MEIO */
  .footer-center {
    text-align:center;
    strong { color: var(--primary); }
  }

  /* REDES */
  .social-links {
    display:flex; align-items:center; gap:.6rem;
    a { color: var(--primary); font-size:1.35rem; transition:.2s;
      &:hover { transform: translateY(-2px); }
    }
  }
}

/* RESPONSIVO */
@media (max-width: 670px) {
  .footer .footer-content {
    grid-template-columns: 1fr;
    text-align:center;
    gap:.8rem;
  }
  .mini-player-footer { justify-content:center; }
}
